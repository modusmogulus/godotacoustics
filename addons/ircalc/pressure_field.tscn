[gd_scene load_steps=13 format=4 uid="uid://duu4kij01s5vk"]

[ext_resource type="Script" uid="uid://u5itcuk0qaoj" path="res://addons/ircalc/pressure_field.gd" id="1_c2dkg"]
[ext_resource type="AudioStream" uid="uid://buqec72j3kq1a" path="res://addons/ircalc/wavetables/SAMPLES_DOWN.wav" id="4_ioc0h"]
[ext_resource type="PackedScene" uid="uid://cx2hr84cedabb" path="res://addons/ircalc/models/wavevis.glb" id="4_qysnn"]
[ext_resource type="Material" uid="uid://cmeftlhjjekun" path="res://addons/ircalc/3rdparty/shaders/waveguidemat_exciting.tres" id="5_ioc0h"]
[ext_resource type="AudioStream" uid="uid://dvgk6m08veh7p" path="res://addons/ircalc/wavetables/SAMPLES_UP.wav" id="5_qysnn"]

[sub_resource type="SphereShape3D" id="SphereShape3D_ccqrm"]
radius = 0.897

[sub_resource type="SphereShape3D" id="SphereShape3D_c2dkg"]
radius = 1.0

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_ioc0h"]
streams_count = 2
stream_0/stream = ExtResource("5_qysnn")
stream_1/stream = ExtResource("4_ioc0h")

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_qysnn"]
streams_count = 2
stream_0/stream = ExtResource("5_qysnn")
stream_1/stream = ExtResource("4_ioc0h")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_kpx14"]

[sub_resource type="ArrayMesh" id="ArrayMesh_csx1j"]
_surfaces = [{
"aabb": AABB(-1, 0, -1, 2, 0.303867, 2),
"format": 34896613377,
"index_count": 24,
"index_data": PackedByteArray("AAABAAIAAAADAAEABAAAAAIABAACAAUABgAAAAQABgAHAAAABwADAAAABwAIAAMA"),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 9,
"vertex_data": PackedByteArray("/3///+R/AABC1AAAvCsAAP//AADkfwAA/38AAAAAAAD/fwAA//8AAELUAABC1AAAvCsAAELUAAAAAAAA5H8AALwrAAC8KwAA")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_1kx5l"]
resource_name = "wavevis_Plane"
_surfaces = [{
"aabb": AABB(-1, 0, -1, 2, 0.303867, 2),
"attribute_data": PackedByteArray("/3/yf0iotlcyvfJ//3/MQv9/Mr1IqEiotldIqMxC8n+2V7ZX"),
"format": 34896613399,
"index_count": 24,
"index_data": PackedByteArray("AAABAAIAAAADAAEABAAAAAIABAACAAUABgAAAAQABgAHAAAABwADAAAABwAIAAMA"),
"material": SubResource("StandardMaterial3D_kpx14"),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 9,
"vertex_data": PackedByteArray("/3///+R/AcBC1AAAvCtvyf//AADkf4XA/38AAAAAP8n/fwAA///DtkLUAABC1GO3vCsAAELUpLcAAAAA5H+FwLwrAAC8K6TJ////fzjq6XM/6B90M/9xgP/+cIBY5rZxYPQZmh/0v5eR9kaV")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_csx1j")

[node name="PressureField" type="CharacterBody3D"]
process_mode = 3
collision_layer = 0
collision_mask = 2049
motion_mode = 1
wall_min_slide_angle = 0.0
script = ExtResource("1_c2dkg")

[node name="Collider" type="CollisionShape3D" parent="."]
shape = SubResource("SphereShape3D_ccqrm")
debug_color = Color(0.740182, 0.577758, 5.77569e-07, 1)
debug_fill = false

[node name="Forcefield" type="Area3D" parent="."]
collision_layer = 2048
collision_mask = 2048

[node name="Bounds" type="CollisionShape3D" parent="Forcefield"]
shape = SubResource("SphereShape3D_c2dkg")
debug_color = Color(0.222327, 0.510533, 1, 1)
debug_fill = false

[node name="wavetable" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -4.61887)
stream = SubResource("AudioStreamRandomizer_ioc0h")
attenuation_model = 3
max_distance = 166.29

[node name="wavetable3" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -7.17009)
stream = SubResource("AudioStreamRandomizer_ioc0h")
attenuation_model = 3
max_distance = 166.29

[node name="wavetable2" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.63061)
stream = SubResource("AudioStreamRandomizer_qysnn")
attenuation_model = 3
max_distance = 166.29

[node name="wavetable4" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 10.1991)
stream = SubResource("AudioStreamRandomizer_qysnn")
attenuation_model = 3
max_distance = 166.29

[node name="wavetable5" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 18.991)
stream = SubResource("AudioStreamRandomizer_qysnn")
attenuation_model = 3
max_distance = 166.29

[node name="Soundfield" parent="." instance=ExtResource("4_qysnn")]
transform = Transform3D(5.215, 0, 0, 0, -2.27955e-07, 5.215, 0, -5.215, -2.27955e-07, 0.232402, 0, 0.0214216)

[node name="wavevis" parent="Soundfield" index="0"]
transform = Transform3D(1, 0, 0, 0, 0.490465, 3.55271e-15, 0, 0, 1, 0, 0, 0)
surface_material_override/0 = ExtResource("5_ioc0h")

[node name="wavevis2" type="MeshInstance3D" parent="Soundfield"]
transform = Transform3D(0.62, 0, 0, 0, 0.460766, 7.10543e-15, 0, -7.10543e-15, 0.62, 0, 0.21762, 9.51246e-09)
mesh = SubResource("ArrayMesh_1kx5l")
skeleton = NodePath("")
surface_material_override/0 = ExtResource("5_ioc0h")

[node name="wavevis4" type="MeshInstance3D" parent="Soundfield"]
transform = Transform3D(1.15, 0, 0, 0, 0.855, 2.13163e-14, 0, -1.77636e-14, 1.15, 0, 0.147836, 6.46208e-09)
mesh = SubResource("ArrayMesh_1kx5l")
skeleton = NodePath("")
surface_material_override/0 = ExtResource("5_ioc0h")

[node name="wavevis3" type="MeshInstance3D" parent="Soundfield"]
transform = Transform3D(0.62, 0, 0, 0, 0.415434, 1.24345e-14, 0, -7.10543e-15, 0.62, 0, 0.104857, 4.5835e-09)
mesh = SubResource("ArrayMesh_1kx5l")
skeleton = NodePath("")
surface_material_override/0 = ExtResource("5_ioc0h")

[node name="wavevis5" type="MeshInstance3D" parent="Soundfield"]
transform = Transform3D(0.9, 0, 0, 0, 0.602, 1.42109e-14, 0, -8.88178e-15, 0.9, 0, 0.0920883, 4.02536e-09)
mesh = SubResource("ArrayMesh_1kx5l")
skeleton = NodePath("")
surface_material_override/0 = ExtResource("5_ioc0h")

[node name="wavevis6" type="MeshInstance3D" parent="Soundfield"]
transform = Transform3D(0.595, 0, 0, 0, 0.398, 1.24345e-14, 0, -7.10543e-15, 0.595, 0, 0.0131307, 5.73998e-10)
mesh = SubResource("ArrayMesh_1kx5l")
skeleton = NodePath("")
surface_material_override/0 = ExtResource("5_ioc0h")

[node name="wavevis7" type="MeshInstance3D" parent="Soundfield"]
transform = Transform3D(0.395, 0, 0, 0, 0.264, 7.10543e-15, 0, -4.44089e-15, 0.395, 0, -0.0579816, -2.53443e-09)
mesh = SubResource("ArrayMesh_1kx5l")
skeleton = NodePath("")
surface_material_override/0 = ExtResource("5_ioc0h")

[node name="wavevis8" type="MeshInstance3D" parent="Soundfield"]
transform = Transform3D(0.27, 0, 0, 0, 0.18, 4.44089e-15, 0, -2.66454e-15, 0.27, 0, -0.0670542, -2.93101e-09)
mesh = SubResource("ArrayMesh_1kx5l")
skeleton = NodePath("")
surface_material_override/0 = ExtResource("5_ioc0h")

[editable path="Soundfield"]
